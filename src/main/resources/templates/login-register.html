<!doctype html>
<html class="no-js" lang="en" xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeTube video</title>
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="layerslider/css/layerslider.css">
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/jquery.kyco.easyshare.css">
    <link rel="stylesheet" href="css/responsive.css">
	
	<script src="js/jquery.js"></script>
	
</head>
<body>
	<div class="off-canvas-wrapper">
		<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>
			<!--header-->
			<div th:replace="~{fragments/header::header}"></div>
		
			<!-- End Header -->
				<!--breadcrumbs-->
				<section id="breadcrumb">
					<div class="row">
						<div class="large-12 columns">
							<nav aria-label="You are here:" role="navigation">
								<ul class="breadcrumbs">
									<li><i class="fa fa-home"></i><a href="#">Home</a></li>
									<li>
										<span class="show-for-sr">Current: </span> Register
									</li>
								</ul>
							</nav>
						</div>
					</div>
				</section><!--end breadcrumbs-->
	
				<!-- registration -->
				<section class="registration">
					<div class="row secBg">
						<div class="large-12 columns">
							<div class="login-register-content">
								<div class="row collapse borderBottom">
									<div class="medium-6 large-centered medium-centered">
										<div class="page-heading text-center">
											<h3>User Registeration</h3>
											<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s</p>
										</div>
									</div>
								</div>
								<div class="row" data-equalizer data-equalize-on="medium" id="test-eq">
									<div class="large-4 large-offset-1 medium-6 columns">
										<div class="social-login" data-equalizer-watch>
											<h5 class="text-center">Login via Social Profile</h5>
											<div class="social-login-btn facebook">
												<a href="#"><i class="fa fa-qq"></i>login via qq</a>
											</div>
											<div class="social-login-btn twitter">
												<a href="#"><i class="fa fa-weixin"></i>login via weixin</a>
											</div>
										</div>
									</div>
									<div class="large-2 medium-2 columns show-for-large">
										<div class="middle-text text-center hide-for-small-only" data-equalizer-watch>
											<p>
												<i class="fa fa-arrow-left arrow-left"></i>
												<span>OR</span>
												<i class="fa fa-arrow-right arrow-right"></i>
											</p>
										</div>
									</div>
									<div class="large-4 medium-6 columns end">
										<div class="register-form">
											<h5 class="text-center">Create your Account</h5>
											<form th:action="@{~/register}" method="post" data-abide novalidate>
												<div data-abide-error class="alert callout" style="display: none;">
													<p><i class="fa fa-exclamation-triangle"></i> There are some errors in your form.</p>
												</div>
												<div class="input-group">
													<span class="input-group-label"><i class="fa fa-phone"></i></span>
													<input name="username" id="usernameInput" class="input-group-field" type="text" placeholder="Enter your phone number" required>
												</div>
												
												<div class="input-group">
													<span class="input-group-label"><i class="fa fa-envelope"></i></span>
													<input name="email" class="input-group-field" type="email" placeholder="Enter your email" required>
												</div>
	
												<div class="input-group">
													<span class="input-group-label"><i class="fa fa-lock"></i></span>
													<input name="password" type="password" id="password" placeholder="Enter your password" required>
												</div>
												
												<div class="input-group">
													<span class="input-group-label"><i class="fa fa-lock"></i></span>
													<input type="password" placeholder="Re-type your password" pattern="alpha_numeric" data-equalto="password" required>
												</div>
												<!-- 验证码 -->
												<div class="input-group">
													<span class="input-group-label"><i class="fa fa-comment"></i></span>
													<input id="smsInput" type="text" placeholder="Enter your sms" required>
												</div>
												
												<span id="msg" style="margin-bottom: 20px;font-size: 20px; line-height: inherit;color: red"></span>
												<!-- 发送验证码按钮 -->
												<a href="javascript:;" id="getSmsButton" style="margin-bottom: 20px;font-size: 18px;float: right; color: #8e8e8e;">获取验证码</a>
			   
												<span class="form-error">your email is invalid</span>
												<button class="button expanded" type="submit" name="submit">register Now</button>
												<p class="loginclick">
													<!-- login.html -->
													<a th:href="@{~/loginBetobe}">Login here</a>
													<a th:href="@{~/loginBetobe}">Already have acoount?</a>
												</p>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			
			<!-- footer -->
			<div th:replace="~{fragments/footer::footer}"></div>
			<!-- footer -->
			</div><!--end off canvas content-->
		</div><!--end off canvas wrapper inner-->
	</div><!--end off canvas wrapper-->
	
	<script src="layer/layer.js"></script>
	<script type="text/javascript" th:inline="javascript">
		var phone;
		
		// 校验短信验证码是否正确
		$("#smsInput").blur(function () {
		    
        	$("#msg").text("");
			var sms = $("#smsInput").val();
		    // 校验验证码
			$.post(
			    // action的地址
				[[@{~/judgeSMS}]],
				// 数据
				{"sms":sms},
				// 回调函数
				function (data) {
					if(data.message){
                    
                    } else {
                    	$("#msg").text("验证码错误");
                    	$("#smsInput").val("");
					}
                },
				// 数据格式
				"json"
			)
        });
		
		// 失去焦点，判断手机号是否合法
		$("#usernameInput").blur(function () {
			
		    $("#msg").text("");
		    // 获取手机号
		    phone = $("#usernameInput").val();
		    // 判断手机号是否是正确的手机号
			if (/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(phone)){
			
			} else {
			    layer.msg("手机格式有误！！");
			}
        });
		
        // 发送手机验证码的请求
		$("#getSmsButton").click(function () {
            
            $.post(
                // action的地址
                [[@{~/sms}]],
                // 数据
                {"phone":phone},
                // 回调函数
                function (data) {
					if(data.message){
                        layer.msg("发送成功！！");
                    } else {
						$("#msg").text("该手机号已被注册")
					}
                },
                // 数据格式
				"json"
            );
        })
	</script>
	
	
	
	
	<!-- script files -->
	<script src="bower_components/jquery/dist/jquery.js"></script>
	<script src="bower_components/what-input/what-input.js"></script>
	<script src="bower_components/foundation-sites/dist/foundation.js"></script>
	<script src="js/jquery.showmore.src.js" type="text/javascript"></script>
	<script src="js/app.js"></script>
	<script src="layerslider/js/greensock.js" type="text/javascript"></script>
	<!-- LayerSlider script files -->
	<script src="layerslider/js/layerslider.transitions.js" type="text/javascript"></script>
	<script src="layerslider/js/layerslider.kreaturamedia.jquery.js" type="text/javascript"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/inewsticker.js" type="text/javascript"></script>
	<script src="js/jquery.kyco.easyshare.js" type="text/javascript"></script>
</body>
</html>